$(function(){if($(".company-text").hasClass("autocomplete")){var a=$(".company-text.autocomplete");var b=$(".company-id.autocomplete");a.autocomplete({source:function(d,c){b.val(0);$.ajax({url:"/company/getlistbytitle",data:{title:d.term,list_type:"oc"},success:function(e){c($.map(e.list,function(f){return{label:f.company.title,value:f.company.id}}))}})},select:function(c,d){if(d.item){a.val(d.item.label);b.val(d.item.value)}else{b.val(0)}return false},open:function(){},close:function(){},focus:function(c,d){return false},minLength:3});a.keypress(function(c){if(c.keyCode==13){return false}})}$(".group-checkbox").on("click",function(){var c=$(this).attr("rel");var d=$(".single-checkbox[rel="+c+"]");if($(this).attr("checked")=="checked"){d.attr("checked","checked")}else{d.removeAttr("checked")}});$(".single-checkbox").on("click",function(){var d=$(this).attr("rel");var c=$(".group-checkbox[rel="+d+"]");c.removeAttr("checked");if($(".single-checkbox[rel="+d+"]:checked").length==$(".single-checkbox[rel="+d+"]").length){c.attr("checked","checked")}});$(".item-delete").on("click",function(){if(!confirm("Remove item from Original Certificate ?")){return false}var c=$(this).parents(".item:first");$.ajax({url:"/document/removeitem",data:{doc_alias:"oc",doc_id:c.data("oc_id"),item_id:c.data("steelitem_id")},success:function(d){if(d.result=="okay"){var e=c.parents("table:first");if(e.find(".item").length<=1){e.hide();$(".packing-list-is-empty").show()}c.remove()}else{alert("Error ocured when removing item from Original Certificate !")}}})});$("#standard_id").change(function(){$("#standard_new").val("")});$("#standard_new").keyup(function(){$("#standard_id [value='0']").attr("selected","selected")});$("#search").click(function(){var c="/oc/filter/plate_id:"+$("#search_string").val()+";";$(location).attr("pathname",c)});$("#search_string").keypress(function(d){if(d.keyCode==13){var c="/oc/filter/plate_id:"+$("#search_string").val()+";";$(location).attr("pathname",c);console.log("keypress")}})});